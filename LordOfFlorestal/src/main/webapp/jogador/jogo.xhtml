<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Lord Of Florestal</title>

        <h:outputStylesheet library="css" name="custom.css" />
        <h:outputStylesheet library="css" name="layout.css" />
        <h:outputStylesheet library="css" name="components.css" />

        <h:outputScript target="body" library="primefaces" name="jquery/jquery.js" />
        <h:outputScript target="body" library="js" name="app.js" />
    </h:head>
    <style>
        @media (min-width: 640px) {
            .ui-icon{
                display: none !important;
            }
        }

        .ui-carousel .ui-carousel-dropdown, .ui-carousel .ui-carousel-mobiledropdown {
            display: none !important;
        }

        .ui-carousel .ui-carousel-viewport .ui-carousel-items .ui-carousel-item{
            border: none;
            padding: 4px;
        }
        .ui-carousel .ui-carousel-viewport{
            margin-top: 5px;
        }


        .ui-carousel{
            border: none;
        }

        .ui-carousel .ui-carousel-header{
            background-color: #cc3e30;
            color: white;
        }

        .ui-selectbooleanbutton {
            color : red !important;
        }

        .ui-state-active{
            color: green !important;
        }
    </style>
    <h:body style="background-image: url(../resources/img/bg2.jpg); background-repeat: repeat;">
        <h:form prependId="false"> 
            <p:growl />
            <div class="ui-g ui-fluid">
                <div class="ui-md-1" />
                <div class="ui-g-12 ui-md-10 noMargin">
                    <div class="ui-g-12 noMargin">
                        <div class="ui-g-12" style="height: 200px;">
                            <p:carousel itemStyleClass="teste" headerText="Mesa Oponente" responsive="true" numVisible="#{jogoBean.mesa.size()}" id="m" value="#{jogoBean.mesa}" var="m" >
                                <center>
                                    <p:graphicImage library="img" name="/cartas/#{m.id}.jpg" width="100" />
                                </center>
                            </p:carousel>
                        </div>
                    </div>
                    <div class="ui-g-12 noMargin">
                        <div class="ui-g-12" style="height: 200px;">
                            <p:fieldset id="suaMesa" legend="Sua mesa" style="margin-top:20px">
                                <p:outputPanel id="dropArea">
                                    <h:outputText value="!!!Jogue suas cartas aqui!!!" rendered="#{empty jogoBean.mesa}" style="font-size:24px;" />
                                    <p:dataTable id="cartasMesa" var="c" value="#{jogoBean.mesa}" rendered="#{not empty jogoBean.mesa}">
                                        <p:column headerText="Id">
                                            <h:outputText value="#{c.nome}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:outputPanel>
                            </p:fieldset>
                        </div>
                        <div class="ui-g-12">
                            <p:fieldset legend="Sua MÃ£o">
                                <p:ring style="padding: -10px;" id="cartasDisponiveis" value="#{jogoBean.mao}" var="carta" styleClass="image-ring" easing="easeInOutBack">
                                    <p:panel id="pnl" header="#{carta.id}" style="text-align:center">
                                        <p:graphicImage library="img" width="100" name="/cartas/#{carta.id}.jpg" />
                                    </p:panel>
                                    <p:draggable for="pnl" revert="true" handle=".ui-panel-titlebar" stack=".ui-panel"/>
                                </p:ring>
                            </p:fieldset>
                        </div>
                    </div>
                </div>
                <div class="ui-md-1" />
            </div>
            <p:droppable for="suaMesa" tolerance="touch" activeStyleClass="ui-state-highlight" datasource="cartasDisponiveis" onDrop="handleDrop">
                <p:ajax listener="#{jogoBean.descer}" update="dropArea cartasDisponiveis" />
            </p:droppable>
        </h:form>
    </h:body>
    <script type="text/javascript">
        function handleDrop(event, ui) {
            var cs = ui.draggable;

            cs.fadeOut('fast');
        }
    </script>
</html>

